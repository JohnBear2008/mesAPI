[2018-12-26T09:15:14.036] [ERROR] dateFileLog - { TypeError: D:\work\MESAPI\yujiang.Foil.Node.WebServer\app\system\sitemap\showSitemap.{v}.ejs:18
    16| 
    17| <div class="panel panel-default">
 >> 18| <div class="panel-heading">
    19|     <h3 class="panel-title">欢迎<%-(locals.session==null)?"什么？你居然跳过了登录界面？":locals.session.yjUser.AID%></h3>
    20| </div>
    21| <div class="panel-body">

Cannot read property 'AID' of undefined
    at eval (eval at exports.compile (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:237:14), <anonymous>:30:470)
    at eval (eval at exports.compile (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:237:14), <anonymous>:30:1897)
    at D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:250:15
    at Object.exports.render (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:288:13)
    at Object.exports.renderFile (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:318:20)
    at View.module.exports [as engine] (D:\work\MESAPI\node_modules\ejs-locals\index.js:85:7)
    at View.render (D:\work\MESAPI\node_modules\express\lib\view.js:126:8)
    at tryRender (D:\work\MESAPI\node_modules\express\lib\application.js:639:10)
    at Function.render (D:\work\MESAPI\node_modules\express\lib\application.js:591:3)
    at ServerResponse.render (D:\work\MESAPI\node_modules\express\lib\response.js:961:7)
  path: 'D:\\work\\MESAPI\\yujiang.Foil.Node.WebServer\\app\\system\\sitemap\\showSitemap.{v}.ejs' }
[2018-12-26T10:53:33.260] [ERROR] dateFileLog - { TypeError: D:\work\MESAPI\yujiang.Foil.Node.WebServer\app\system\sitemap\showSitemap.{v}.ejs:18
    16| 
    17| <div class="panel panel-default">
 >> 18| <div class="panel-heading">
    19|     <h3 class="panel-title">欢迎<%-(locals.session==null)?"什么？你居然跳过了登录界面？":locals.session.yjUser.AID%></h3>
    20| </div>
    21| <div class="panel-body">

Cannot read property 'AID' of undefined
    at eval (eval at exports.compile (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:237:14), <anonymous>:30:470)
    at eval (eval at exports.compile (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:237:14), <anonymous>:30:1897)
    at D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:250:15
    at Object.exports.render (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:288:13)
    at Object.exports.renderFile (D:\work\MESAPI\node_modules\ejs-locals\node_modules\ejs\lib\ejs.js:318:20)
    at View.module.exports [as engine] (D:\work\MESAPI\node_modules\ejs-locals\index.js:85:7)
    at View.render (D:\work\MESAPI\node_modules\express\lib\view.js:126:8)
    at tryRender (D:\work\MESAPI\node_modules\express\lib\application.js:639:10)
    at Function.render (D:\work\MESAPI\node_modules\express\lib\application.js:591:3)
    at ServerResponse.render (D:\work\MESAPI\node_modules\express\lib\response.js:961:7)
  path: 'D:\\work\\MESAPI\\yujiang.Foil.Node.WebServer\\app\\system\\sitemap\\showSitemap.{v}.ejs' }
[2018-12-26T11:48:50.331] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:05:21.344] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:09:06.313] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:10:08.683] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:11:26.117] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:19:24.252] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:26:20.879] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:28:39.393] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T14:36:07.022] [ERROR] dateFileLog - TypeError: Cannot set property 'UserID' of undefined
    at success (D:\work\MESAPI\mesAPI\biz\API\getComproduct.{m}.js:57:38)
    at Object.exports.safeSuccess (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:94:13)
    at Object.exports.handleResult (D:\work\MESAPI\yujiang.Foil.Node\src\yjError.js:148:12)
    at checkResults (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:136:19)
    at StreamEvents.<anonymous> (D:\work\MESAPI\yujiang.Foil.Node\src\yjDBService.engine.sqlserver.js:188:14)
    at emitNone (events.js:106:13)
    at StreamEvents.emit (events.js:208:7)
    at Immediate.<anonymous> (D:\work\MESAPI\node_modules\msnodesqlv8\lib\reader.js:91:22)
    at runCallback (timers.js:810:20)
    at tryOnImmediate (timers.js:768:5)
[2018-12-26T15:00:26.426] [ERROR] dateFileLog - { Error: [Microsoft][SQL Server Native Client 11.0]TCP 提供程序: 远程主机强迫关闭了一个现有的连接。

  sqlstate: '08S01',
  code: 10054,
  sql: 'select f.UserID,f.UserName,e.WareHouseID,e.WareHouseName from comWareHouse e,( select c.PersonID as UserID,c.PersonName as UserName,d.PKValue from comperson c,(select a.PKValue,a.UserName from comChangeLog a inner join (select PKValue ,max(changetime)as changetime from comChangeLog where   ProgID=\'CHIComm.WareHouse\' group by PKValue  ) b on a.PKValue=b.PKValue and a.ChangeTime=b.changetime) d where c.PersonID=d.UserName) f where e.WareHouseID=f.PKValue and PKValue=?' }
[2018-12-26T15:00:26.448] [ERROR] dateFileLog - { Error: [Microsoft][SQL Server Native Client 11.0]通讯链接失败
  sqlstate: '08S01',
  code: 10054,
  sql: 'select f.UserID,f.UserName,e.WareHouseID,e.WareHouseName from comWareHouse e,( select c.PersonID as UserID,c.PersonName as UserName,d.PKValue from comperson c,(select a.PKValue,a.UserName from comChangeLog a inner join (select PKValue ,max(changetime)as changetime from comChangeLog where   ProgID=\'CHIComm.WareHouse\' group by PKValue  ) b on a.PKValue=b.PKValue and a.ChangeTime=b.changetime) d where c.PersonID=d.UserName) f where e.WareHouseID=f.PKValue and PKValue=?' }
[2018-12-26T15:00:31.106] [ERROR] dateFileLog - { Error: [Microsoft][SQL Server Native Client 11.0]TCP 提供程序: 远程主机强迫关闭了一个现有的连接。

  sqlstate: '08S01',
  code: 10054,
  sql: 'select f.UserID,f.UserName,e.WareHouseID,e.WareHouseName from comWareHouse e,( select c.PersonID as UserID,c.PersonName as UserName,d.PKValue from comperson c,(select a.PKValue,a.UserName from comChangeLog a inner join (select PKValue ,max(changetime)as changetime from comChangeLog where   ProgID=\'CHIComm.WareHouse\' group by PKValue  ) b on a.PKValue=b.PKValue and a.ChangeTime=b.changetime) d where c.PersonID=d.UserName) f where e.WareHouseID=f.PKValue and PKValue=?' }
[2018-12-26T15:00:31.107] [ERROR] dateFileLog - { Error: [Microsoft][SQL Server Native Client 11.0]通讯链接失败
  sqlstate: '08S01',
  code: 10054,
  sql: 'select f.UserID,f.UserName,e.WareHouseID,e.WareHouseName from comWareHouse e,( select c.PersonID as UserID,c.PersonName as UserName,d.PKValue from comperson c,(select a.PKValue,a.UserName from comChangeLog a inner join (select PKValue ,max(changetime)as changetime from comChangeLog where   ProgID=\'CHIComm.WareHouse\' group by PKValue  ) b on a.PKValue=b.PKValue and a.ChangeTime=b.changetime) d where c.PersonID=d.UserName) f where e.WareHouseID=f.PKValue and PKValue=?' }
[2018-12-26T15:00:36.104] [ERROR] dateFileLog - { Error: [Microsoft][SQL Server Native Client 11.0]TCP 提供程序: 远程主机强迫关闭了一个现有的连接。

  sqlstate: '08S01',
  code: 10054,
  sql: 'select f.UserID,f.UserName,e.WareHouseID,e.WareHouseName from comWareHouse e,( select c.PersonID as UserID,c.PersonName as UserName,d.PKValue from comperson c,(select a.PKValue,a.UserName from comChangeLog a inner join (select PKValue ,max(changetime)as changetime from comChangeLog where   ProgID=\'CHIComm.WareHouse\' group by PKValue  ) b on a.PKValue=b.PKValue and a.ChangeTime=b.changetime) d where c.PersonID=d.UserName) f where e.WareHouseID=f.PKValue and PKValue=?' }
[2018-12-26T15:00:36.105] [ERROR] dateFileLog - { Error: [Microsoft][SQL Server Native Client 11.0]通讯链接失败
  sqlstate: '08S01',
  code: 10054,
  sql: 'select f.UserID,f.UserName,e.WareHouseID,e.WareHouseName from comWareHouse e,( select c.PersonID as UserID,c.PersonName as UserName,d.PKValue from comperson c,(select a.PKValue,a.UserName from comChangeLog a inner join (select PKValue ,max(changetime)as changetime from comChangeLog where   ProgID=\'CHIComm.WareHouse\' group by PKValue  ) b on a.PKValue=b.PKValue and a.ChangeTime=b.changetime) d where c.PersonID=d.UserName) f where e.WareHouseID=f.PKValue and PKValue=?' }
